<!DOCTYPE html>
<html lang="en">
<head>
<title>JavaScript - read JSON from URL</title>
</head>

<body>

<h1 id=title></h1>

<script>
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const world_name = urlParams.get('name');
const world_code = urlParams.get('code');
document.getElementById("title").innerHTML=world_name + " : " + world_code;
</script>


<table style="width:100%">
  <tr>
    <th>Information</th>
    <th>Content</th>
    <th></th>
  </tr>
  <tr>
    <th>Random Opposition</th>
    <th><div id="content"></div></th>
    <th><button type="button"
        onclick='var index = ("R" + Math.floor(Math.random() * 6 + 1)) + Math.floor(Math.random() * 6 + 1);document.getElementById("content").innerHTML=obj.RandomOposition[index]'>
        Refresh</button>
    </th>
  </tr>
</table>

<script>
function httpGet(theUrl) {
  var xmlHttp = null;
  xmlHttp = new XMLHttpRequest();
  xmlHttp.open( "GET", theUrl, false );
  xmlHttp.send( null );
  return xmlHttp.responseText;
}

var local = '{"RandomOposition": {"R11":"Low Tech - Animals","R12":"Low Tech - Large Animals"}}';
var data = '<object id=test type="text/html" data="data.json"></object>';
var something = httpGet("../json/data.json")
var obj = JSON.parse(something);
var index = ('R' + Math.floor(Math.random() * 6 + 1))+ Math.floor(Math.random() * 6 + 1)
//document.getElementById("content").innerHTML=something;
document.getElementById("content").innerHTML=obj.RandomOposition[index]
</script>


</body>
</html>